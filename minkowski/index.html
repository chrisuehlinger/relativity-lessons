<!DOCTYPE html>
<html>
    <head>
        <title>Minkowski Diagram</title>
        <link rel="stylesheet" href="../bower_components/mathbox/build/mathbox.css" />
        <link rel="stylesheet" href="../bower_components/dat.gui/build/dat.gui.css" />
        <link rel="stylesheet" href="../css/style.css" />
    </head>
    <body>
        <script type="application/glsl" id="lorentz-transform">
        uniform float debugSR;
        uniform float vFrame;
        uniform float tFrame;
        uniform float xFrame;

        vec4 lorentz(vec4 xyzw, inout vec4 stpq) {
            float gamma = 1.0/sqrt(1.0-vFrame*vFrame);
            float x = xyzw.x;
            float t = xyzw.y;

            if( debugSR > 0.0 ) {
                xyzw.x = gamma*(x + vFrame*t) + xFrame;
                xyzw.y = gamma*(t + vFrame*x) + tFrame;
            }
            return xyzw;
        }
        </script>
        <script type="application/glsl" id="blackhole-curvature">
        uniform float useBlackHoles;
        uniform float singularity;
        uniform float rS;

        vec4 blackhole(vec4 xyzw, inout vec4 stpq) {
            if( useBlackHoles > 0.0) {
                float r = abs(xyzw.x - singularity);
                float dir = sign(xyzw.x - singularity);

                float a = 0.0;
                a = -1.0*rS/(r*r*sqrt(1.0-rS/r));
                float dx = 0.5*dir*a*xyzw.y*xyzw.y;
                if(abs(dx) > r) {
                    dx = sign(dx)*r;
                }
                xyzw.x += dx;
            }
            return xyzw;
        }
        </script>
        <script src="../bower_components/mathbox/build/mathbox-bundle.js"></script>
        <script src="../bower_components/lodash/lodash.js"></script>
        <script src="../bower_components/jquery/dist/jquery.js"></script>
        <script src="../bower_components/dat.gui/build/dat.gui.js"></script>
        <script src="simulation.js"></script>
        <script src="loading.js"></script>
        <script src="diagram.js"></script>
        <script src="main.js"></script>
        <script src="objects.js"></script>
    </body>
</html>
        